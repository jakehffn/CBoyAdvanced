{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Build All Targets",
            "type": "shell",
            "command": "python -m http.server 8000",
            "options": {
                "cwd": "${workspaceFolder}/build/web/debug"
            },
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "dependsOn":[
                "Build Web Target",
				"Execute Ninja x86 (debug)"
            ]
        },
        {
			"type": "shell",
			"label": "Execute Ninja x86 (debug)",
			"command": "ninja",
			"options": {
				"cwd": "${workspaceFolder}/build/x86/debug"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			}
		},
        {
			"type": "shell",
			"label": "Run CMake x86 (debug)",
			"command": "cmake",
			"args": [
				"-DCMAKE_BUILD_TYPE=Debug",
				"../../..",
				"-G",
				"Ninja"
			],
			"options": {
				"cwd": "${workspaceFolder}/build/x86/debug"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			},
			"dependsOn":[
				"Make Dir x86"
			]
		},
		{
			"type": "shell",
			"label": "Make Dir x86",
			"command": "mkdir ./build/x86/debug && mkdir ./build/x86/release || echo 0",
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": true
			}
		},
        {
			"type": "shell",
			"label": "Execute Ninja Web (debug)",
			"command": "ninja",
            "args": [
                "-C",
				"."
			],
			"options": {
				"cwd": "${workspaceFolder}/build/web/debug"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			}
		},
        {
			"type": "shell",
			"label": "Run CMake Web (debug)",
			"command": "cmake",
			"args": [
				"-DCMAKE_BUILD_TYPE=Debug",
				"-G",
				"Ninja",
				"../../..",
                "-DCMAKE_TOOLCHAIN_FILE=${env:EMSCRIPTEN}/cmake/Modules/Platform/Emscripten.cmake"
			],
			"options": {
				"cwd": "${workspaceFolder}/build/web/debug"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "dedicated",
				"showReuseMessage": true,
				"clear": false
			},
			"dependsOn":[
				"Make Dirs Web"
			]
		},
		{
			"type": "shell",
			"label": "Make Dirs Web",
			"command": "mkdir ./build/web/debug && mkdir ./build/web/release || echo 0",
			"options": {
				"cwd": "${workspaceFolder}"
			},
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": true,
				"panel": "shared",
				"showReuseMessage": true,
				"clear": true
			}
		},
		{
			"type": "shell",
			"label": "Build Web Target",
			"command": "xcopy",
			"args": [
				"/y",
				"${workspaceFolder}\\web",
				"${workspaceFolder}\\build\\web\\debug",
			],
			"options": {
				"cwd": "${workspaceFolder}/build/web/debug"
			},
			"dependsOn": [
				"Execute Ninja Web (debug)"
			]
		},
		{
			"type": "shell",
			"label": "Open Browser",
			"command": "explorer",
			"args": [
				"http://127.0.0.1:8000"
			],
			"options": {
				"cwd": "${workspaceFolder}/build/web/debug"
			}
		},
		{
            "type": "shell",
            "label": "Serve Web Target",
            "command": "python",
			"args": [
				"-m",
				"http.server",
				"8000"
			],
			"options": {
				"cwd": "${workspaceFolder}/build/web/debug"
			},
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
			"isBackground": true,
			"dependsOn": [
				"Open Browser"
			]
        }
    ]
}